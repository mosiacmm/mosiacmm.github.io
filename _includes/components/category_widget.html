<aside class="single_sidebar_widget post_category_widget">
    <h4 class="widget_title" style="color: #2d2d2d;">Category</h4>
    <ul class="list cat-list">
        {% assign categories = site.posts | map: "categories" | flatten | uniq %}
        {% for category in categories %}
        {% assign category_posts = site.posts | where_exp: "post", "post.categories contains category" %}
        <li>
            <a href="{{ site.baseurl }}/blog/?search={{ category | url_encode }}" class="d-flex">
                <p>{{ category }}</p>
                <p>({{ category_posts.size }})</p>
            </a>
        </li>
        {% endfor %}
    </ul>
</aside>